"use strict";function convertCartStrToObj(t){if(!t)return{};for(var n=t.split(":"),o={};i<n.length;i++){var r=n[i].split(",");o[r[0]]={id:r[0],img:r[1],color:r[2],system:r[3],versions:r[4],num:parseInt(r[5]),money:parseInt(r[6]),moneyAll:parseInt(r[5])*parseInt(r[6])}}return o}function convertObjToCartStr(t){var n="";for(var o in t)n&&(n+=":"),n+=t[o].id+","+t[o].img+","+t[o].color+","+t[o].system+","+t[o].versions+","+t[o].num+","+t[o].money+","+t[o].moneyAll;return n}$("#head").load("../html/header.html"),$("#foot").load("../html/footer.html"),$(function(){$.cookie("cart")&&$.cookie("cart");if(cartStr){var t=convertCartStrToObj(cartStr);for(var n in t){var o=t[n],r='<div id="product" data-good-id="'.concat(o.id,'">\n            <div id="proSelBox">\n                <input type="checkbox" name="proSel" id="proSel" value="" />\n            </div>\n            <div id="proTit">\n                <a href="#">').concat(o.img,"</a>\n                <span>").concat(o.color,"/").concat(o.system,"/").concat(o.versions,'</span>\n            </div>\n            <div id="proMoney">\n                <span>').concat(o.money,'</span>\n            </div>\n            <div id="proNum">\n                <form>\n                    <button class="sub">-</button><input type="text" name="" id="txt" value="').concat(o.num,'" data-now=""/><button class="add">+</button>\n                </form>\n            </div>\n            <div id="proMoneyAll">\n                <span>').concat(o.moneyAll,'</span>\n            </div>\n            <div id="delete">\n                <a href="javascript:;" >删除</a>\n            </div>\n        </div>');$(r).appendTo("#cartBody")}$("#proNum.add").click(function(){var t=$(this).parents("#product").attr("data-good-id"),n=convertCartStrToObj($.cookie("cart")?$.cookie("cart"):"");n[t].num+=1,$(this).sinlings("input").val(""+n[t].num),$(this).parent().sinlings("#proMoneyAll").html(n[t].num*n[t].money+""),$.cookie("cart",convertObjToCartStr(n),{expires:7,path:"/"})}),$("#proNum .sub").click(function(){var t=$(this).parents("#product").attr("data-good-id"),n=convertObjToCartStr($.cookie("cart")?$.cookie("cart"):"");1<n[t].num&&(n[t].num-=1,$(this).sibling("input").val(""+n[t].num),$(this).parent().sinlings("#proMoneyAll").html(n[t].num*n[t].money+""),$.cookie("cart",convertObjToCartStr(n),{expires:7,path:"/"}))}),$("#proNum input").blur(function(){var t=$(this).parents("#product").attr("data-good-id"),n=convertCartStrToObj($.cookie("cart")?$.cookie("cart"):"");/^\d+$/.test($(this).val())&&(cartbj[t].num=parseInt($(this).val())),$(this).sinlings("input").val(""+n[t].num),$(this).parent().siblings("#proMoneyAll").html(n[t].num*n[t].money+""),$.cookie("cart",convertObjToCartStr(n),{expires:7,path:"/"})})}else;}),window.onload=function(){var t=convertCartStrToObj($.cookie("cart")?$.cookie("cart"):""),n=0,o=0;for(var r in t)n+=t[r].num,o+=t[r].moneyAll;$("#monChoNum").html(n),$("#moenyChooseAll span").html(o),$("#headNum").html(n)};